schemaVersion: 1.0.0
name: mulitple-mixin-configs
version: 0.1.0
registry: ghcr.io/getporter

mixins:
  - terraform:
      workingDirs:
        - infra1
        - infra2

install:
  - terraform:
      description: 'infra 1'
      workingDir: 'infra1'
  - terraform:
      description: 'infra 2'
      workingDir: 'infra2'

upgrade:
  - terraform:
      description: 'Upgrade infra 1 assets'
      workingDir: 'infra1'
  - terraform:
      description: 'Upgrade infra 2 assets'
      workingDir: 'infra2'

uninstall:
  - terraform:
      description: 'Uninstall infra 1 assets'
      workingDir: 'infra1'
  - terraform:
      description: 'Uninstall infra 2 assets'
      workingDir: 'infra2'
